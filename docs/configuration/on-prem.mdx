---
sidebar_position: 6
title: On-Premises
---
import CloudCosts from './_cloud_costs.mdx';
import CustomPrometheus from './_custom_prometheus.mdx';
import Helm from './_helm.mdx';
import InstallManifest from './_install_manifest.mdx';
import InstallOpenCost from './_install_opencost.mdx';
import InstallPrometheus from './_install_prometheus.mdx';
import Installing from './_installing.mdx';
import Namespace from './_namespace.mdx';
import UpdateOpenCost from './_update_opencost.mdx';

# Installing On-Premises (on-prem)

OpenCost may be installed on-prem and provides default pricing that may be overridden.
<Installing/>

## Install Prometheus

<InstallPrometheus/>
<CustomPrometheus/>

## Create the OpenCost Namespace

<Namespace/>

## On-Prem Configuration

On-prem cluster pricing is supported in OpenCost by providing default prices for node data. Here are the included default prices:

```json
{
    "provider": "custom",
    "description": "Default prices used to compute allocation between RAM, CPU and GPU. AWS pricing API data still used for total node cost.",
    "CPU": "0.031611",
    "spotCPU": "0.006655",
    "RAM": "0.004237",
    "GPU": "0.95",
    "spotRAM": "0.000892",
    "storage": "0.00005479452",
    "zoneNetworkEgress": "0.01",
    "regionNetworkEgress": "0.01",
    "internetNetworkEgress": "0.143",
    "spotLabel": "kops.k8s.io/instancegroup",
    "spotLabelValue": "spotinstance-nodes",
    "awsServiceKeyName": "",
    "awsServiceKeySecret": "",
    "awsSpotDataRegion":"",
    "awsSpotDataBucket": "",
    "awsSpotDataPrefix": "",
    "athenaBucketName": "",
    "athenaRegion": "",
    "athenaDatabase": "",
    "athenaTable": "",
    "projectID": ""
}
```

### Custom pricing using the OpenCost Helm Chart

Custom pricing may be applied by updating your local OpenCost Helm values file. Any values not overridden will default to the values provided by the Helm chart.

```yaml
opencost:
  customPricing:
    enabled: true
    costModel:
      provider: "aws"
      description: "Default prices used to compute allocation between RAM, CPU and GPU. AWS pricing API data still used for total node cost."
      CPU: "0.031611"
      spotCPU: "0.006655"
      RAM: "0.004237"
      GPU: "0.95"
      spotRAM: "0.000892"
      storage: "0.00005479452"
      zoneNetworkEgress: "0.01"
      regionNetworkEgress: "0.01"
      internetNetworkEgress: "0.143"
      spotLabel: "kops.k8s.io/instancegroup"
      spotLabelValue: "spotinstance-nodes"
```

The values in the example above will be reflected in the OpenCost with the specified pricing configuration while still using AWS pricing API for total node costs.

## On-Prem Cloud Costs

:::note

*** Cloud Costs are not currently supported for on-prem, but you may configure OpenCost to view costs associated with other cloud service providers.***

:::

<CloudCosts/>

## Install OpenCost

<Helm/>

### Using the OpenCost Helm Chart

<InstallOpenCost/>

### Updating OpenCost via Helm

<UpdateOpenCost/>

### Installing with the OpenCost Manifest

Installing from the OpenCost manifest is supported for on-prem.

<InstallManifest/>
